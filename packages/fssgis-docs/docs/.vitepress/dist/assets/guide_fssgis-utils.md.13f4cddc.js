import{r as s,o as a,c as n,b as t,a as e}from"./app.b290997c.js";const o='{"title":"基础工具集（baseUtils）","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用方式","slug":"使用方式"},{"level":2,"title":"函数目录","slug":"函数目录"},{"level":2,"title":"功能函数","slug":"功能函数"},{"level":3,"title":"deepCopyJSON(obj) => Object","slug":"deepcopyjson-obj-object"},{"level":3,"title":"deepCopy(obj) => Object","slug":"deepcopy-obj-object"},{"level":3,"title":"createGuid () => string","slug":"createguid-string"},{"level":3,"title":"createIntRandom (minInt, maxInt) => number","slug":"createintrandom-minint-maxint-number"},{"level":3,"title":"isFromMobileBrowser () => boolean","slug":"isfrommobilebrowser-boolean"},{"level":3,"title":"copyText (text) => Promise<string>","slug":"copytext-text-promise-string"},{"level":3,"title":"getArrayItemRandom (arr) => Array","slug":"getarrayitemrandom-arr-array"},{"level":3,"title":"loadCss (cssUrl) => void","slug":"loadcss-cssurl-void"},{"level":3,"title":"loadJs (jsUrl) => void","slug":"loadjs-jsurl-void"},{"level":3,"title":"$extend (arg0, arg1, arg2) => Object","slug":"extend-arg0-arg1-arg2-object"},{"level":3,"title":"debounce (fn, wait, immediate?) => Function & { cancel(): void }","slug":"debounce-fn-wait-immediate-function-cancel-void"},{"level":3,"title":"throttle (fn, wait, options?) => Function & { cancel(): void }","slug":"throttle-fn-wait-options-function-cancel-void"},{"level":3,"title":"listToTree (list, options?) => Array","slug":"listtotree-list-options-array"},{"level":3,"title":"parseListField (list, parseFields) => Array","slug":"parselistfield-list-parsefields-array"},{"level":3,"title":"whenRightReturn (time, intervalCallback) => Promise","slug":"whenrightreturn-time-intervalcallback-promise"},{"level":3,"title":"isPromise (obj) => boolean","slug":"ispromise-obj-boolean"}],"relativePath":"guide/fssgis-utils.md","lastUpdated":1627395060903}',p={},r=e('<h1 id="基础工具集（baseutils）"><a class="header-anchor" href="#基础工具集（baseutils）" aria-hidden="true">#</a> 基础工具集（baseUtils）</h1><h2 id="使用方式"><a class="header-anchor" href="#使用方式" aria-hidden="true">#</a> 使用方式</h2><div class="language-javascript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n<span class="token comment">// or</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> baseUtils <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div><h2 id="函数目录"><a class="header-anchor" href="#函数目录" aria-hidden="true">#</a> 函数目录</h2><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td><a href="#deepcopyjson-obj-object">deepCopyJSON()</a></td><td>深度复制</td></tr><tr><td><a href="#deepcopy-obj-object">deepCopy()</a></td><td>深度复制</td></tr><tr><td><a href="#createguid-string">createGuid()</a></td><td>创建GUID</td></tr><tr><td><a href="#createguid-string">createIntRandom()</a></td><td>创建随机整数</td></tr><tr><td><a href="#isfrommobilebrowser-boolean">isFromMobileBrowser()</a></td><td>判断网页是否通过移动端设备打开</td></tr><tr><td><a href="#copytext-text-promise-string">copyText()</a></td><td>复制文本</td></tr><tr><td><a href="#getarrayitemrandom-arr-array">getArrayItemRandom()</a></td><td>随机获取数组的其中一个子集</td></tr><tr><td><a href="#loadcss-cssurl-void">loadCss()</a></td><td>加载css</td></tr><tr><td><a href="#loadjs-jsurl-void">loadJs()</a></td><td>加载js</td></tr><tr><td><a href="#extend-arg0-arg1-arg2-object">$extend()</a></td><td>对象扩展</td></tr><tr><td><a href="#debounce-fn-wait-immediate-function-cancel-void">debounce()</a></td><td>防抖</td></tr><tr><td><a href="#throttle-fn-wait-options-function-cancel-void">throttle()</a></td><td>节流</td></tr><tr><td><a href="#listtotree-list-options-array">listToTree()</a></td><td>列表转树形结构</td></tr><tr><td><a href="#listtotree-list-options-array">parseListField()</a></td><td>解析列表</td></tr><tr><td><a href="#whenrightreturn-time-intervalcallback-promise">whenRightReturn()</a></td><td>异步等待结果</td></tr><tr><td><a href="#ispromise-obj-boolean">isPromise()</a></td><td>判断是否为Promise对象</td></tr></tbody></table><h2 id="功能函数"><a class="header-anchor" href="#功能函数" aria-hidden="true">#</a> 功能函数</h2><h3 id="deepcopyjson-obj-object"><a class="header-anchor" href="#deepcopyjson-obj-object" aria-hidden="true">#</a> deepCopyJSON(obj) <code>=&gt; Object</code></h3><p>采用<strong>JSON解析</strong>方式的JavaScript对象深度复制/拷贝</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>obj <code>Object</code></td><td>JavaScript对象</td></tr></tbody></table><p>Example:</p><div class="language-javascript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> deepCopyJSON <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n\n<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n  num<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> str<span class="token operator">:</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> bool<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token constant">NULL</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token constant">UNDEFINED</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>\n  <span class="token function-variable function">func</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// will be undefined</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token comment">// BIGINT: 1n // TypeError: Do not know how to serialize a BigInt</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token function">deepCopyJSON</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>\n</code></pre></div><h3 id="deepcopy-obj-object"><a class="header-anchor" href="#deepcopy-obj-object" aria-hidden="true">#</a> deepCopy(obj) <code>=&gt; Object</code></h3><p>采用<strong>递归</strong>方式的JavaScript对象深度复制/拷贝</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>obj <code>Object</code></td><td>JavaScript对象</td></tr></tbody></table><p>Example:</p><div class="language-javascript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> deepCopy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n\n<span class="token keyword">const</span> privateAttr <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n    num<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> str<span class="token operator">:</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> bool<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    <span class="token constant">NULL</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token constant">UNDEFINED</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">func</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token constant">BIGINT</span><span class="token operator">:</span> <span class="token number">1n</span><span class="token punctuation">,</span>\n    obj<span class="token operator">:</span> <span class="token punctuation">{</span> num<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    cls<span class="token operator">:</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>\n      <span class="token keyword">static</span> str <span class="token operator">=</span> <span class="token string">&#39;hi&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>privateAttr<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>\n</code></pre></div><h3 id="createguid-string"><a class="header-anchor" href="#createguid-string" aria-hidden="true">#</a> createGuid () <code>=&gt; string</code></h3><p>创建GUID随机码</p><p>Example:</p><div class="language-javascript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createGuid <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n<span class="token keyword">const</span> guid <span class="token operator">=</span> <span class="token function">createGuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div>',20),c=e('<h3 id="createintrandom-minint-maxint-number"><a class="header-anchor" href="#createintrandom-minint-maxint-number" aria-hidden="true">#</a> createIntRandom (minInt, maxInt) <code>=&gt; number</code></h3><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>minInt <code>number</code></td><td>最小整数</td></tr><tr><td>maxInt <code>number</code></td><td>最大整数</td></tr></tbody></table><p>创建指定范围的随机整数</p><p>Example:</p><div class="language-javascript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createIntRandom <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n<span class="token keyword">const</span> intNum <span class="token operator">=</span> <span class="token function">createIntRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div>',5),d=e('<h3 id="isfrommobilebrowser-boolean"><a class="header-anchor" href="#isfrommobilebrowser-boolean" aria-hidden="true">#</a> isFromMobileBrowser () <code>=&gt; boolean</code></h3><p>判断网页是否通过移动端设备打开</p><p>Example:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> isFromMobileBrowser  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">isFromMobileBrowser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div><h3 id="copytext-text-promise-string"><a class="header-anchor" href="#copytext-text-promise-string" aria-hidden="true">#</a> copyText (text) <code>=&gt; Promise&lt;string&gt;</code></h3><p>复制文本</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>text <code>string</code></td><td>复制的文本</td></tr></tbody></table><p>Example:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> copyText <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n<span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token string">&#39;xxx&#39;</span>\n<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">copyText</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>\n</code></pre></div><h3 id="getarrayitemrandom-arr-array"><a class="header-anchor" href="#getarrayitemrandom-arr-array" aria-hidden="true">#</a> getArrayItemRandom (arr) <code>=&gt; Array</code></h3><p>随机获取数组的其中一个子集</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>arr <code>Array</code></td><td>数组</td></tr></tbody></table><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getArrayItemRandom  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div><h3 id="loadcss-cssurl-void"><a class="header-anchor" href="#loadcss-cssurl-void" aria-hidden="true">#</a> loadCss (cssUrl) <code>=&gt; void</code></h3><p>加载css</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>cssUrl <code>string</code></td><td>css资源路径</td></tr></tbody></table><p>Example:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> loadCss <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n<span class="token keyword">const</span> cssUrl <span class="token operator">=</span> <span class="token string">&#39;xxx.css&#39;</span>\n<span class="token function">loadCss</span><span class="token punctuation">(</span>cssUrl<span class="token punctuation">)</span>\n</code></pre></div><h3 id="loadjs-jsurl-void"><a class="header-anchor" href="#loadjs-jsurl-void" aria-hidden="true">#</a> loadJs (jsUrl) <code>=&gt; void</code></h3><p>加载js</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>jsUrl <code>string</code></td><td>js资源路径</td></tr></tbody></table><p>Example:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> loadjs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n<span class="token keyword">const</span> jsUrl <span class="token operator">=</span> <span class="token string">&#39;xxx.js&#39;</span>\n<span class="token function">loadCss</span><span class="token punctuation">(</span>jsUrl<span class="token punctuation">)</span>\n</code></pre></div><h3 id="extend-arg0-arg1-arg2-object"><a class="header-anchor" href="#extend-arg0-arg1-arg2-object" aria-hidden="true">#</a> $extend (arg0, arg1, arg2) <code>=&gt; Object</code></h3><p>对象扩展（JQuery $.extend 实现代码），具体参考：<a href="https://api.jquery.com/jquery.extend/" target="_blank" rel="noopener noreferrer">https://api.jquery.com/jquery.extend/</a></p><p>Example:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> $extend <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div><h3 id="debounce-fn-wait-immediate-function-cancel-void"><a class="header-anchor" href="#debounce-fn-wait-immediate-function-cancel-void" aria-hidden="true">#</a> debounce (fn, wait, immediate?) <code>=&gt; Function &amp; { cancel(): void }</code></h3><p>防抖（当持续触发事件时，一定时间段内没有再触发事件，事件处理函数才会执行一次，如果设定的时间到来之前，又一次触发了事件，就重新开始延时）</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>fn <code>Function</code></td><td>防抖函数</td></tr><tr><td>wait <code>number</code></td><td>防抖时间戳</td></tr><tr><td>immediate <code>boolean</code></td><td>是否立即执行防抖函数，默认为<code>false</code></td></tr></tbody></table><p>Example:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> debounce <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div><h3 id="throttle-fn-wait-options-function-cancel-void"><a class="header-anchor" href="#throttle-fn-wait-options-function-cancel-void" aria-hidden="true">#</a> throttle (fn, wait, options?) <code>=&gt; Function &amp; { cancel(): void } </code></h3><p>节流（当持续触发事件时，保证一定时间段内只调用一次事件处理函数）</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>fn <code>Function</code></td><td>节流函数</td></tr><tr><td>wait <code>number</code></td><td>节流时间戳</td></tr><tr><td>options <code>Object</code></td><td>配置项</td></tr><tr><td>options.leading <code>boolean</code></td><td>是否立即执行节流函数，默认为<code>true</code></td></tr><tr><td>options.trailing <code>boolean</code></td><td>结束节流时是否执行节流函数，默认为<code>true</code></td></tr></tbody></table><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> throttle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div><h3 id="listtotree-list-options-array"><a class="header-anchor" href="#listtotree-list-options-array" aria-hidden="true">#</a> listToTree (list, options?) <code>=&gt; Array</code></h3><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>list<code>Array</code></td><td>列表</td></tr><tr><td>options<code>Object</code></td><td>配置项</td></tr><tr><td>options.idField <code>string</code></td><td>子集的Id字段，默认为<code>&#39;id&#39;</code></td></tr><tr><td>options.parentIdField <code>string</code></td><td>子集的parentId字段，默认为<code>&#39;parentId&#39;</code></td></tr><tr><td>options.checkParentIdCallback <code>Function</code></td><td>判断子集是否存在parentId的回调函数，<br>默认为<code>parentId =&gt; !!parentId</code></td></tr></tbody></table><p>列表转树形结构</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> listToTree <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div><h3 id="parselistfield-list-parsefields-array"><a class="header-anchor" href="#parselistfield-list-parsefields-array" aria-hidden="true">#</a> parseListField (list, parseFields) <code>=&gt; Array</code></h3><p>解析列表</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> parseListField <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div><h3 id="whenrightreturn-time-intervalcallback-promise"><a class="header-anchor" href="#whenrightreturn-time-intervalcallback-promise" aria-hidden="true">#</a> whenRightReturn (time, intervalCallback) <code>=&gt; Promise</code></h3><p>异步等待结果</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> whenRightReturn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div><h3 id="ispromise-obj-boolean"><a class="header-anchor" href="#ispromise-obj-boolean" aria-hidden="true">#</a> isPromise (obj) <code>=&gt; boolean</code></h3><p>判断是否为Promise对象</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> isPromise <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fssgis/utils&#39;</span>\n</code></pre></div>',49);p.render=function(e,o,p,l,i,u){const k=s("CreateGuid"),h=s("CreateIntRandom");return a(),n("div",null,[r,t(k),c,t(h),d])};export default p;export{o as __pageData};
